<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>R interface to Champaign–Urbana Mass Transit District Web API • cumtd</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="R interface to Champaign–Urbana Mass Transit District Web API">
<meta name="description" content="Provides access to the realtime Web API run by Champaign–Urbana Mass Transit District (CUMTD).">
<meta property="og:description" content="Provides access to the realtime Web API run by Champaign–Urbana Mass Transit District (CUMTD).">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">cumtd</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level2">
<h2 id="retrieving-data-from-a-custom-web-api">Retrieving Data from a Custom Web API<a class="anchor" aria-label="anchor" href="#retrieving-data-from-a-custom-web-api"></a>
</h2>
<!-- badges: start -->

<p>The <code>cumtd</code> <em>R</em> package provides an example of implementing and using a Web API. In particular, the package is a case study in retrieving data from the <a href="https://developer.cumtd.com/" class="external-link">Champaign-Urbana Mass Transit District (‘CUMTD’)</a> Web API, which provides realtime information for buses. Writing a custom wrapper to the API was necessary since there is not a realtime <a href="http://code.google.com/transit/spec/transit_feed_specification.html" class="external-link">General Transit Feed Specification (GTFS)</a> available via <a href="https://developers.google.com/transit/gtfs-realtime/" class="external-link">GTFS Realtime</a>. Thus, for those wanting to know if their bus will arrive on time, one must look elsewhere.</p>
<p>As a follow-up, the package is used in <a href="https://github.com/r-pkg-examples/r-shinydashboard" class="external-link"><code>r-shinydashboard</code></a> example to illustrate how a real-time API can be used with <a href="https://rstudio.github.io/shinydashboard/index.html" class="external-link"><code>shinydashboard</code></a>.</p>
<div class="section level3">
<h3 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h3>
<p>To install the <code>cumtd</code> package, use:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">if</span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"coatless-r-n-d/r-web-api"</span><span class="op">)</span></span></code></pre></div>
<p>To access its contents, load it into <em>R</em> with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://rd.thecoatlessprofessor.com/r-web-api/">"cumtd"</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="endpoints">Endpoints<a class="anchor" aria-label="anchor" href="#endpoints"></a>
</h3>
<p>We have support presently for:</p>
<table class="table">
<thead><tr class="header">
<th align="left">Implemented Functions</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">classify_departure_status</td>
</tr>
<tr class="even">
<td align="left">convert_response</td>
</tr>
<tr class="odd">
<td align="left">cumtd</td>
</tr>
<tr class="even">
<td align="left">cumtd_check_key</td>
</tr>
<tr class="odd">
<td align="left">cumtd_set_key</td>
</tr>
<tr class="even">
<td align="left">cumtd_show_key</td>
</tr>
<tr class="odd">
<td align="left">get_all_routes</td>
</tr>
<tr class="even">
<td align="left">get_all_stops</td>
</tr>
<tr class="odd">
<td align="left">get_all_vehicles</td>
</tr>
<tr class="even">
<td align="left">get_api_usage</td>
</tr>
<tr class="odd">
<td align="left">get_departures_by_stop</td>
</tr>
<tr class="even">
<td align="left">get_route_shape</td>
</tr>
<tr class="odd">
<td align="left">get_route_shape_between_stops</td>
</tr>
</tbody>
</table>
<p>End points to be added (PRs appreciated!):</p>
<table class="table">
<colgroup><col width="100%"></colgroup>
<thead><tr class="header">
<th align="left">End Point Documentation</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><a href="https://developer.cumtd.com/documentation/v2.2/method/getcalendardatesbydate" class="external-link">GetCalendarDatesByDate</a></td>
</tr>
<tr class="even">
<td align="left"><a href="https://developer.cumtd.com/documentation/v2.2/method/getcalendardatesbyservice" class="external-link">GetCalendarDatesByService</a></td>
</tr>
<tr class="odd">
<td align="left"><a href="https://developer.cumtd.com/documentation/v2.2/method/getnews" class="external-link">GetNews</a></td>
</tr>
<tr class="even">
<td align="left"><a href="https://developer.cumtd.com/documentation/v2.2/method/getreroutes" class="external-link">GetReroutes</a></td>
</tr>
<tr class="odd">
<td align="left"><a href="https://developer.cumtd.com/documentation/v2.2/method/getreroutesbyroute" class="external-link">GetReroutesByRoute</a></td>
</tr>
<tr class="even">
<td align="left"><a href="https://developer.cumtd.com/documentation/v2.2/method/getroute" class="external-link">GetRoute</a></td>
</tr>
<tr class="odd">
<td align="left"><a href="https://developer.cumtd.com/documentation/v2.2/method/getroutesbystop" class="external-link">GetRoutesByStop</a></td>
</tr>
<tr class="even">
<td align="left"><a href="https://developer.cumtd.com/documentation/v2.2/method/getstop" class="external-link">GetStop</a></td>
</tr>
<tr class="odd">
<td align="left"><a href="https://developer.cumtd.com/documentation/v2.2/method/getstopsbylatlon" class="external-link">GetStopsByLatLon</a></td>
</tr>
<tr class="even">
<td align="left"><a href="https://developer.cumtd.com/documentation/v2.2/method/getstopsbysearch" class="external-link">GetStopsBySearch</a></td>
</tr>
<tr class="odd">
<td align="left"><a href="https://developer.cumtd.com/documentation/v2.2/method/getstoptimesbytrip" class="external-link">GetStopTimesByTrip</a></td>
</tr>
<tr class="even">
<td align="left"><a href="https://developer.cumtd.com/documentation/v2.2/method/getstoptimesbystop" class="external-link">GetStopTimesByStop</a></td>
</tr>
<tr class="odd">
<td align="left"><a href="https://developer.cumtd.com/documentation/v2.2/method/getplannedtripsbylatlon" class="external-link">GetPlannedTripsByLatLon</a></td>
</tr>
<tr class="even">
<td align="left"><a href="https://developer.cumtd.com/documentation/v2.2/method/getplannedtripsbystops" class="external-link">GetPlannedTripsByStops</a></td>
</tr>
<tr class="odd">
<td align="left"><a href="https://developer.cumtd.com/documentation/v2.2/method/gettrip" class="external-link">GetTrip</a></td>
</tr>
<tr class="even">
<td align="left"><a href="https://developer.cumtd.com/documentation/v2.2/method/gettripsbyblock" class="external-link">GetTripsByBlock</a></td>
</tr>
<tr class="odd">
<td align="left"><a href="https://developer.cumtd.com/documentation/v2.2/method/gettripsbyroute" class="external-link">GetTripsByRoute</a></td>
</tr>
<tr class="even">
<td align="left"><a href="https://developer.cumtd.com/documentation/v2.2/method/getvehicle" class="external-link">GetVehicle</a></td>
</tr>
<tr class="odd">
<td align="left"><a href="https://developer.cumtd.com/documentation/v2.2/method/getvehiclesbyroute" class="external-link">GetVehiclesByRoute</a></td>
</tr>
<tr class="even">
<td align="left"><a href="https://developer.cumtd.com/documentation/v2.2/method/getlastfeedupdate" class="external-link">GetLastFeedUpdate</a></td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="implementation-details">Implementation Details<a class="anchor" aria-label="anchor" href="#implementation-details"></a>
</h3>
<p>When trying to import data into <em>R</em> from a Web API, the preferred approach is to use <a href="https://cran.r-project.org/package=httr" class="external-link"><code>httr</code></a> or <a href="https://cran.r-project.org/package=curl" class="external-link"><code>curl</code></a>. Using either of these packages, one can form HTTP requests to send to the Web API and receive HTTP responses from it that contain the data. Inside the response, there is a body portion that contains the desired data and needs to be converted into an <em>R</em> data structure.</p>
</div>
<div class="section level3">
<h3 id="license">License<a class="anchor" aria-label="anchor" href="#license"></a>
</h3>
<p>GPL (&gt;= 2)</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>GPL (&gt;= 2)</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing cumtd</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>James Joseph Balamuta <br><small class="roles"> Author, maintainer, copyright holder </small> <a href="https://orcid.org/0000-0003-2826-8458" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/coatless-r-n-d/r-web-api/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/coatless-r-n-d/r-web-api/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by James Joseph Balamuta.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
